{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/chat/retrospective-2021/",
    "result": {"data":{"cur":{"id":"c953d479-9a39-5c55-8b86-ced0e661fa3b","html":"<h1 id=\"toc\" style=\"position:relative;\"><a href=\"#toc\" aria-label=\"toc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TOC</h1>\n<ol>\n<li><a href=\"#1.-2021%EB%85%84%EC%97%90-%EB%AD%90%ED%96%88%EB%82%98\">2021년에 뭘 했는지</a>\n<ol>\n<li><a href=\"#%EC%9D%BC\">일 (나름 재밌는? 달만 목차로 남깁니다)</a>\n<ol>\n<li><a href=\"#1%EC%9B%94\">1월: 옆 자리 사람의 정직</a></li>\n<li><a href=\"#2%EC%9B%94\">2월: 대규모 장애</a></li>\n<li><a href=\"#3%EC%9B%94\">3월: 정직 당한 사람의 말로</a></li>\n<li><a href=\"#4%EC%9B%94\">4월: 시니어?와 주석에 대한 리뷰</a></li>\n<li><a href=\"#5%EC%9B%94\">5월: CTO님의 퇴사</a></li>\n<li><a href=\"#9%EC%9B%94\">9월: 요구사항 지옥</a></li>\n<li><a href=\"#12%EC%9B%94\">12월: 퇴사 협박</a></li>\n</ol>\n</li>\n<li><a href=\"#%EC%9D%BC%EC%9D%B4-%EC%95%84%EB%8B%8C-%EA%B2%83\">일이 아닌 것</a></li>\n</ol>\n</li>\n</ol>\n<h1 id=\"회고\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EA%B3%A0\" aria-label=\"회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회고</h1>\n<h2 id=\"1-2021년에-뭐했나\" style=\"position:relative;\"><a href=\"#1-2021%EB%85%84%EC%97%90-%EB%AD%90%ED%96%88%EB%82%98\" aria-label=\"1 2021년에 뭐했나 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 2021년에 뭐했나</h2>\n<p>일과 일이 아닌 것으로 나눌 수 있을 것 같다.</p>\n<h3 id=\"일\" style=\"position:relative;\"><a href=\"#%EC%9D%BC\" aria-label=\"일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>일</h3>\n<p>제품을 찍어내는데 집중했고 내가 경험이 없다는 것을 너무 잘 납득하게 된 한 해였다.</p>\n<p>솔직히 나는 내가 경험했던 범위 내에서는 잘 했다고 생각한다. 내 머릿속에 들어 있던 내용들에 한해서는 제품에 잘 적용했다고 생각한다. HA 구성도 아닌 서버가 배포되는데 10~15분씩이나 걸렸어야 했던 것을 2분 정도로 단축시켰고(그 중 3~40초는 순수하게 빌드 되는 시간) 무엇보다 말도 안되는 수준의 코드들을 엄청 많이 제거했다. 주문이 300건만 쌓여도 죽어나던 시기를 생각하면 솔직히 지금도 어이없다. 하지만 부족한 점도 너무 잘 느낄 수 있었다. 솔직히 sustaining 하는 양을 생각하면 시간이 똑같이 흐르지 않긴 했지만 그래도 시니어급 분들이 들어오셔서 1~2달내로 아키텍쳐를 싹 바꿔놓는 것을 보면서 내가 갈 길은 한참 남았다는 것을 체감할 수 있었다. 완전히 끝나서 놀란 게 아니라 내가 시도조차 못 한 것들을 짧은 시간에 끝내는 걸 보고 당시에 꽤 많이 놀랐다.</p>\n<p>이 정도가 요약이고, 조금 자세하게는 월별로 정리해 보기로 했다.</p>\n<h4 id=\"1월\" style=\"position:relative;\"><a href=\"#1%EC%9B%94\" aria-label=\"1월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1월</h4>\n<p>입사 3개월차. 평소에 좀 많이 이상한 분이라고 생각했던 옆 자리 사람이 정직을 당했다.\r\n정말 이상한 코드들이 널리고 널렸는데 개선을 못 하게 하는 주범이 사라지게 되어서 앞으로 어떻게 할 지 얘기를 좀 했었던 것 같다.\r\n일단은 남아있는 생쿼리들을 ORM으로 옮기자고 얘기해서 feature들을 올리면서 중간중간 리팩토링을 개선했던 것 같은데 그 뒤로 기억이 잘 안 난다.\r\n2월달에 엄청난 사건이 터졌던게 원인인 것 같다.</p>\n<h4 id=\"2월\" style=\"position:relative;\"><a href=\"#2%EC%9B%94\" aria-label=\"2월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2월</h4>\n<p>하룻밤만에 시스템이 싹 다 사라지는 엄청난 장애가 터졌다. 자고 일어나보니 몇몇 분들은 한밤중에 연락 받아서 진작에 회사 나가서 인프라를 다시 구축하는 중이었다. 하루 정도를 들여 웹 스토어는 다시 오픈했으나 기존 주문건을 수기로 처리하느라 신규 주문의 처리가 지연되었으며, 이 때문에 평소 대비 5배 정도까지 주문이 쌓이게 되었다. 문제는 기존 시스템이 n+1문제가 심각해서 주문건이 5배 수준이 되었다고 페이지들이 로딩이 안 되어서 시스템으로 주문을 처리할 수 없는 지경까지 이르렀던 것이다. 그래서 단기간에 사용 가능하도록 바꾸고자 3주동안 매일 12시간씩 일했던 것 같다. (10시에 출근해서 10시에 퇴근하는 ..)\r\n제일 심했던 케이스는 아직도 기억하는데, 하나의 endpoint를 서로 다른 6개 정도의 서브도메인에 해당하는 14개의 메뉴에서 사용하고 있는 케이스였다. 그 함수를 살펴보니 혼돈 그 자체였다. 서로 다른 서브도메인을 위한 비즈니스 로직이 같은 컨트롤러에 엮여 있었고 하나의 메소드에서 모든 경우의 수를 다 생각해야 했기에 join이 10개씩 걸린 쿼리가 실행되는 코드들이 무수한 if들과 함께 널려있었다. 거의 java 코드의 역사책을 보는 수준이었는데, 어떤 함수는 jdbcTemplate로 실행되는 쿼리 결과를 바탕으로 돌아가고 어떤 함수는 (custom)criteria builder로 쿼리가 돌아가고 어떤 함수는 JPA로 돌아가고 있었다. JPQL도 native query인 것과 아닌 것들이 섞여 있을 정도로 난리도 아니였다. 사실 방금 나온 얘기들만 해도 repository를 통해 외부의 데이터를 가져오는 코드가 최소 5줄은 된다는 소리일텐데, 하나의 함수에서 데이터를 5번씩이나 가져와야 할 일이 얼마나 있을까?\r\n방금 얘기했던 케이스는 정말 심했던 편이지만 여튼 전체적으로 문제가 많아서 빠르게 고칠 수 있는 부분은 빠르게 고쳐서 서비스를 운영 가능한 수준까지 올리는데 거의 1주 정도를 밤낮없이 일했던 것 같다. 그래서 날아간 서비스를 복구하고 기존 서비스를 개선하느라 순식간에 지나간 한 달이었던 것으로 기억한다.</p>\n<h4 id=\"3월\" style=\"position:relative;\"><a href=\"#3%EC%9B%94\" aria-label=\"3월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3월</h4>\n<p>솔직히 잘 기억 안나서 커밋로그들을 봤는데 기존 서비스의 편의성과 관련된 기능 업데이트에 집중했던 것 같다. 기록 상으로는 셀러들 시스템이랑 연동한다던가, 운영 정책 변경에 대응하기 위한 수정을 하는 등의 업무에 집중했던 것 같다. 커밋 로그들이 주로 생산성 개선, 정책 변경 대응같이 남아있는 것 봐서는 그랬던 것 같은데 잘 기억은 안 난다.</p>\n<p>아 그리고 1월에 정직을 당하셨다는 분의 복귀일이 3월 말이었는데, 불미스러운 일로 정직 처분을 받으신 거라 오피스의 같은 층으로 복귀를 못 하시고 다른 층으로 가셨다. 그리고 우리 팀에 있는 다른 개발자의 강력한 항의로 개발팀으로의 복귀도 못 하셔서 완전 다른 직군으로 전배되셨다. 나는 돌아오신 모습을 아예 못 봤는데 몇몇 분들은 오전에 출근하시면서 잠깐 마주쳤다고 하시더라. 전배 이후 며칠 안 계시고 바로 퇴직하셨다고 한다. 솔직히 그 분 코드는 아직도 고치고 있는데, 이상한 코드들이 정말 너무 많아서 이제는 그냥 이해를 포기하고 당시에 도대체 뭘 원해서 이렇게 구현되었는지에 대한 토론만 주구장창 하고 있다. 3월 당시에는 이정도일 거라고는 상상 못했었다.</p>\n<p>보통 인터넷 같은 공개된 장소에는 험담을 안 하는게 정석이지만, 너무 충격적인 케이스고 평소에 평판도 안 좋은 사람이 회사에서 상식 밖의 행동을 하면 어떻게 되는 지 교훈을 남기기 위해 적는다. 프로세스 목록은 어떻게 보냐는 질문을 1n년차에게 들어도 절대 험담 안 하는데(뭐 모를수도 있죠) 그 분은 일 외적으로도 평판이 너무 안 좋으셨던 분이라 반면교사의 목적으로 적는다. 처참한 소프트스킬이나 몰상식한 행동은 본인에게 피해를 준다.</p>\n<h4 id=\"4월\" style=\"position:relative;\"><a href=\"#4%EC%9B%94\" aria-label=\"4월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4월</h4>\n<p>1월에 정직을 당했다가 3월에 퇴사하신 분이 원래는 시니어 포지션이었다. (별로 믿기지는 않지만) 경력이 무려 15년이나 되는 분이셨다고 한다. 그리고 그 분이 나간 뒤로 우리 팀(?)에는 두 명밖에 안 남게 되어서 인력 충원을 진행했다. 채용 프로세스가 진행되어 4월 중순에 시니어 포지션으로 한 분이 입사해 주셨다. 이 달에 가장 기억에 남는 건 주석에 관련된 얘기였다. 개인적으로는 함수 시그니처 등으로 표현할 수 있는 정보들이 주석으로 남아 있어서 이상하다고 생각했었다. 예를 들어서 레이어드 아키텍쳐의 프로젝트에서 아래와 같은 코드가 있다고 가정하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">productService<span class=\"token punctuation\">.</span><span class=\"token function\">saveAll</span><span class=\"token punctuation\">(</span>productSaveCommands<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>productDocumentService<span class=\"token operator\">::</span><span class=\"token function\">save</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이 코드가 무엇을 하고 있을까? 나는 아래의 내용들을 알고 있으면 위의 코드가 어떤 동작을 하는지 예상하기에는 무리가 없다 생각한다.</p>\n<ul>\n<li><code class=\"language-text\">productService</code> 가 어떤 서비스인지? -> 상품 도메인과 관련된 비즈니스 로직을 수행하기 위한 서비스이다.</li>\n<li><code class=\"language-text\">productService.saveAll()</code> 은 어떤 동작을 하는 함수인가? -> 상품 데이터를 DB에 저장하고 DB에 저장된 entity들을 DTO로 변환하여 반환한다.</li>\n<li><code class=\"language-text\">productDocumentService</code> 가 어떤 서비스인가? -> 상품 도메인과 관련된 NoSQL 기반 저장소의 문서를 관리하는 서비스이다.</li>\n<li><code class=\"language-text\">productDocumentService.save</code> 는 어떤 동작을 하는 함수인가? -> entity 정보를 받아서 상품 데이터의 문서를 생성한다. (e.g. ES)</li>\n</ul>\n<p>이런 정보들을 알고 있다는 가정 하에 위의 코드를 보면 <code class=\"language-text\">productSaveCommands</code> 에 해당하는 데이터들을 상품 도메인 DB에 저장한 뒤에 저장된 데이터를 가지고 NoSQL 저장소에도 문서를 생성할 것이라고 예상한다. 그래서 서비스와 메서드에 대한 주석이 있으면 보통 이 코드 위에는 주석을 달지 않아도 된다고 생각한다. 물론 실제 코드는 여기에 쓴 코드만큼 이름이 명확하지 않기는 했으나, 주석이 주렁주렁 달려 있어서 리뷰를 하고 관련된 얘기를 했었다. 회고를 쓰면서 돌아보니 내가 너무 직설적이라고 해야하나.. 어떻게 보면 건방져 보이는 수준이었다고 생각하는데, 소프트스킬에 좀 더 신경 써야겠다는 생각을 하게 되는 계기가 되었다.</p>\n<p>그 외에는.. 우리 회사에서 새 해외지사(?) 가 생기면서 백오피스 시스템에 새 지사에 대한 개념을 적용하고 계속 모니터링 했던 것 같은 정도의 기억들이 있다.</p>\n<h4 id=\"5월\" style=\"position:relative;\"><a href=\"#5%EC%9B%94\" aria-label=\"5월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5월</h4>\n<p>작년 한 해 동안 거의 그랬지만 5월도 일 자체는 별로 한 게 없다. 대체로 sustaining 진행했던 것 같다.</p>\n<p>5월에는 CTO님이 퇴사를 하셨다. CTO님을 마지막으로 내 채용 프로세스를 담당했던 사람 중 CEO를 제외한 전원이 나간 셈이다. 사실 CTO님이 나간 것만이 문제인 게 아니라 작년 상반기에만 개발팀 인원 50% 정도가 퇴사를 했었다. 물론 갑작스레 나간 건 아니고 한 달쯤 전부터 미리 알고 있었고, 새 CTO님도 미리 섭외를 했었던 것 같다. 그래서 5월 회고는 CTO님에 대한 얘기를 해 볼까 한다.</p>\n<p>개인적으로 전 CTO님은 장점과 단점(?)이 명확했던 분이라고 생각한다. 일단 성격이 정말 좋으시다. 오래 지내본 건 아니라서 진짜 성격이 어떤지는 잘 모른다. 다만 드러나는 성격은 정말 좋으신 것 같다. 솔직히 목소리를 뺀 나머지는 성대모사도 할 수 있을 정도다. <code class=\"language-text\">아~ OO님 (^^) 요거는요 이렇구 저렇구 해서 ㅎㅎ~ 아 ㅎㅎ 그렇죠 이거 알기 어려운데 이해가 빠르시네요 ㅎㅎ. 그럼 말씀드린 대로 진행해 주실 수 있으세요? 네 감사합니다 (^^)</code> 정도가 요약이다. 이 한 문장에 개인적으로는 이 분의 장점이 다 담겨있다고 생각한다.</p>\n<ul>\n<li>완벽한 비즈니스 인사: 그 어떤 누구에게도 <code class=\"language-text\">아 OO님 (^^) ㅎㅎㅎ</code> 가 빠지지 않는다. 덕분에 본인께서 별로 좋게 평가하지 않는 분이 계셨다는 것도 퇴사를 하실 때 쯤에나 알았을 정도다.</li>\n<li>도메인에 대한 정확한 이해: 나는 당시 회사에서 팀 간 경계가 불분명하다고 생각했었다. (남아있는 작업물들이나 주위의 얘기로만 판단하자면 정직을 당한 분에 정말 크게 망쳐놓은 것 같다고 본다.) 그것과는 별개로 각 팀이나 각 소프트웨어들이 어떤 비즈니스를 처리해야 하는지 정확하게 이해하고 계셨고, 운영하는 서비스나 새로 들어오는 요구사항 관련 의사결정에 대한 질문을 드리면 매끄럽게 잘 대답해 주셨다. 그게 당연한 건지는 나는 잘 모르겠으나 여튼 정말 대단하다고 생각한다.</li>\n<li>5성급 호텔 침대 수준의 쿠션어: 당시 우리 회사 의사결정 체계는 솔직히 정말 구렸다. 엄청난 TOP-DOWN식 요구사항이 밀려오고 그런 요구사항조차 심심하면 바뀌고 그랬다. 데모를 한 번 진행하면 수정사항이 여러개 생길 정도였다. 이런게 말도 안 되는 상황이라는 건 당시 3년차였던 나도 잘 알았는데 주변 선배님(?)들은 어떠하셨을까. 그래서 솔직히 자칫하면 팀 분위기 나락가기 십상이다. 당시 우리는 PO도 없어서 현업에서 팀 채널들로 보내는 요구사항들을 제외하면 대체로 현업이 CTO와 미팅을 가지고 CTO가 팀과 계속 미팅을 하면서 플래닝 비스무리한 무언가를 했었다. 그래서 CTO님에게 굉장히 의존적이었는데 그 분이 호텔 침대급 쿠션어를 써서 그런지 다들 어이없는 상황임에도 잘 넘어가 주셨던 것 같다. 직설적인 화법으로 유명해지신 분들이 좀 계신데 그런 분들을 통해서는 이런 분위기가 유지되기 어렵지 않았을까 하는 생각이 있다. (실제로는 어떨지 모르겠지만)</li>\n</ul>\n<p>나는 이런 장점들이 초기(에 가까운) 스타트업에는 굉장히 잘 어울린다 생각한다. 사람이 없다 보니 요구사항이 정리되기 힘들고 갖춰진 무언가들이 없다 보니 난잡한 상황이 만들어질 수 밖에 없고 업무량이 많다 보니 현업이나 개발이나 서로 민감해질 수 밖에 없는데 서로 하하호호 하며 의견교환을 하게 만드는 능력은 큰 도움이 되었다고 생각한다. 다만, 이런 장점에 그림자처럼 따라올 수 밖에 없다고 생각하는 점들이 있는데 그런 점들이 단점에 해당한다.</p>\n<ul>\n<li>양보를 할 수 밖에 없는 입장을 자처하시는 경향: 아까 이 회사가 TOP-DOWN이 굉장히 심하다고 얘기했었다. (자타공인) 그런 점도 분명히 크게 작용했겠지만 그와는 별개로 개발팀이 강하게 밀어붙이는 경우는 사실상 없었다. 요구사항이 하루만에 뒤바뀌거나 엄청나게 무리한 일정 때문에 모두가 반대하는 일도 일정 때문에 억지로 하게 된다던가 하는 상황이 자주 발생한다. 그런 상황에서 말이 안 되는 일들은 말이 안 된다고 전달은 할 수 있어야 하는데 목소리가 크게 나오기가 어렵다. 엄청 좋은 인상으로 호텔 침대에 눕히는데 어떻게 침대를 찢고 호텔에 불을 지르리오.</li>\n<li>방임: 단점이라 적기는 좀 미안한 내용이긴 한데.. 물론 하시는 일이 너무 많으셔서 그렇겠지만 나는 개인적으로 주니어 2명이서 자기들 멋대로 일 처리하는건 솔직히 말이 안 된다고 생각한다(사실 2명밖에 없으니 팀이라고 하기도 좀 그렇다). 팀에 PO도 없고 리드도 없다. 요구사항조차 정리되어서 들어온다기 보다는 그냥 여기저기서 받고 그걸 주기적으로 CTO에게 공유한다. 우리 팀만 그랬다. 그 과정에서 우리는 우리가 생각하는 대로 일을 처리했다. 우리한테 막 이해도 빠르고 일도 잘한다고 말씀해 주셨지만 솔직히 나는 진짜 우리가 잘해서가 아니라 그렇게 말씀하시면서 달래는 것에 가까웠다고 본다. 물론 나쁘다고 생각하지 않고 당시에는 이런 선택이 필요했을 것이라 생각하지만 아쉬운 건 사실이다.</li>\n</ul>\n<p>여튼 대충 이런 분이셨다. 내 기준에서만 한 줄로 요약하자면 나는 전 CTO님이 2021년 5월까지의 나에게 필요했던 분이라 생각한다. 방임을 단점이랍시고 적었는데 나는 솔직히 쿠션이냐 아니냐 상관없이 나한테 잘 해주신다고 말씀해주신 덕분에 내가 감당한 수준의 프레셔만 스스로 느끼며 일을 할 수 있었던 것 같다. 특히 이 회사에서 스프링을 처음 써 봤음에도 불구하고 덕분에 충분한 시간을 가지면서 잘 적응할 수 있었다. 다시 같이 일 해볼 수 있다면 감사하게 기회를 잡고 싶다는 말이 내가 드릴 수 있는 가장 좋은 감사의 말이 아닐까? 그동안 감사했습니다.</p>\n<h4 id=\"6월\" style=\"position:relative;\"><a href=\"#6%EC%9B%94\" aria-label=\"6월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6월</h4>\n<p>golang을 좀 공부했다. golang으로 kafka + avro 프로젝트를 셋업하는 샘플 repository가 남아있더라. 같이 공부(?)하던 사람이 confluent의 샘플 코드를 그대로 긁어 와서 돌아가면 되는거 아니냐 그래서 어이가 없었던 기억이 있다.</p>\n<p>새 CTO님은 9월부터 오신다고 했는데 6월부터 주 2회 정도씩 계속 오셔서 뭔가 알아보셨던 거 같다. 그것과는 별개로 새 CTO님의 전 회사가 빅테크였는데 그 빅테크에서 트렌비로 몇 분이 같이 따라 오실 예정이라고 하셨다. 심지어 몇 분은 6월 중에 입사를 하셨었다. 여튼, 추가로 입사하실 분들 중 시간 되시는 분들이 회사에 놀러 오셨는데, 우리가 그 놀러 오시는 날에 맞춰서 회사의 현재 기술 스택이나 시스템 등에 대한 간단한 소개를 했었다. 우리 시스템은 솔직히 할 말 없었다. 워낙 개판이고 쓰는 스택들도 다들 올드한데다가 당시에는 그냥 서버 하나에 컨테이너 올리는 수준이 전부였어서 정말 할 말 없었고 보는 사람들도 다들 한숨을 푹푹 쉬었던 것 같다.</p>\n<p>이 달에 트래픽이 몰렸을 때 한 번 장애가 난 적이 있어서 고정(인데 on-demand ㅋㅋ) 인스턴스로 서비스 중인 서비스에 ASG까지는 적용했었던 것 같다.</p>\n<h4 id=\"7월\" style=\"position:relative;\"><a href=\"#7%EC%9B%94\" aria-label=\"7월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7월</h4>\n<p>신규 운송사를 하나 연동한 거 빼면 나머지는 기억이 잘 안 난다. 이 때쯤 회사의 인프라가 꽤 바꼈던 것 같다. vpc를 포함하여 네트워크 인프라가 크게 정비되었고 그 과정에서 내부망 같은 개념이 생겼으며(정말 다행) 그에 따라 노출될 필요가 없는 서비스 서버들은 노출되지 않을 수 있게 되었다. 그리고 배포가 beanstalk 기반으로 변경되었으며 provisioning 된 resource들에 대한 모니터링 등이 엄청 추가되었고.. 여튼 이런 변경사항들이 다 7월에 있었는지는 모르겠는데 엄청 격변했던 거 같다. 그러나 우리 서비스까지 영향이 미치진 못했다. 우리 서비스는 레거시 네트워크에서 그대로 서비스 중이었다. (이게 변경되려면 10월까지 가야 한다)</p>\n<h4 id=\"8월\" style=\"position:relative;\"><a href=\"#8%EC%9B%94\" aria-label=\"8월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8월</h4>\n<p>너무 생각이 안나서 커밋 로그를 뒤져봤는데 존재만 하다가 운영 시작하게 된 지사의 권한 등을 손보고 open api 서비스를 개선하고 이런 sustaining 밖에 없었다. 서비스를 개선하기 위해 어떤 액션을 하면 좋을지에 대한 얘기를 좀 했었던 거 같은데 결과적으로는 단 하나도 반영이 안 됐다. 방법, 타이밍 전부 그냥 얘기만 나오고 끝났다. 나는 DDD책을 봤고 당장 실무에 적용할 수준은 죽어도 안 되겠다를 깨닫기만 한 한달이었던 거 같다.</p>\n<h4 id=\"9월\" style=\"position:relative;\"><a href=\"#9%EC%9B%94\" aria-label=\"9월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9월</h4>\n<p>엄청 큰 신규 프로젝트가 있었다. 너무 많은 도메인들이 경계 없이 뭉쳐져 있어서 여러 팀이 얽혀서 이것도 되고 저것도 되어야 하는 지옥의 요구사항 대잔치를 해야 했었기 때문에 아무래도 머릿수가 없는 PO가 제 역할을 하기 너무 힘든 상황이었다. 처음에 기획은 PO와 함께 정리되었지만 위에서 언급했던 것 처럼 기획대로 가는 프로젝트가 단 하나도 없었고 이번도 마찬가지였다. 그래서 프레임이 나오고 중간부터는 하루 단위로 요구사항을 받고 개선하고 데모하고 데모 과정에서 새 요구사항이 나오고 그걸 또 다음날까지 개선해서 데모를 하는 지옥의 일정을 한 3주 정도 했었던 거 같다. 백오피스 팀이었기 때문에 생산성이 제일 큰 이슈라서 화면 수정이 제일 많았고 그 다음으로는 검색 기능이나 편의성 기능들 수정들이 많았다. 내 입장에서나 편의성 기능이지 사실상 그 편의성으로 업무 효율이 엄청 올라갔었기 때문에 인력이 부족해 알바까지 끌어다 썼던 당시의 상황에서는 이렇게 지옥의 루프를 하는 것이 결과적으로는 최선이었던 거 같다.</p>\n<h4 id=\"10월\" style=\"position:relative;\"><a href=\"#10%EC%9B%94\" aria-label=\"10월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10월</h4>\n<p>9월 추석 주간을 끼워서 프레임을 만들고 수정하는 루프를 거의 3주간 반복했기 때문에 정신 차리니 10월 중순이었다. 9월 123커밋 10월 187커밋. PR로만 따져도 9월 31개 10월 75개였다. 31일 다 일했다 쳐도 하루에 PR을 두 개씩 올린 셈이다. 그래서 뭔가 특이한 기억은 없었던 거 같은데, 이 지옥문이 끝나고 퇴사할 결심을 했었고 그게 아마 10월 말인 것 같다. 나를 이 회사에 소개한 아저씨는 10월 초에 신규 팀이 생기면서 그 팀으로 가 버렸고 그래서 팀은 다시 2명이 되어버린 상황이었다.</p>\n<h4 id=\"11월\" style=\"position:relative;\"><a href=\"#11%EC%9B%94\" aria-label=\"11월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11월</h4>\n<p>팀에 신규 멤버분들이 합류하기 시작했다. 11월에만 세 분이 합류해 주셨다. 온보딩을 약간 진행하고 방임했다. 나랑 연차가 비슷하거나 높아서 내가 붙어서 하나하나 가르쳐 드릴 입장은 아니어서 프로젝트 셋업 방법을 설명해 드리고 채널의 이슈들을 같이 해결하는 수준으로 온보딩을 했다. 잘 한 건지는 솔직히 모르겠다. 나는 좀 많이 아쉬웠다고 생각했고 합류해주신 분 중 문서를 잘 쓰시는 분이 계셨는데 그 분께서 온보딩 프로세스에 많은 기여를 해 주셨다.</p>\n<p>그리고 나는 이직 준비를 하기 시작했다. 주변에 이직하는 사실을 알리고 소개를 받거나 이력서를 돌리는 등 구직활동을 했다. 자세한 얘기는 12월에.</p>\n<h4 id=\"12월\" style=\"position:relative;\"><a href=\"#12%EC%9B%94\" aria-label=\"12월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12월</h4>\n<p>총 9군데 지원했고 그 중 7곳과 인터뷰를 진행했으며 7곳 중 6곳에서 긍정적인 답변을 주셨다. 세 곳은 상향(?) 지원했는데 예상한 대로 2곳에서는 서류 광탈을 했고 한 곳은 인터뷰까지 진행했으나 떨어졌다. 인터뷰 봐 주신 모 회사에 감사의 인사를 드립니다. 여튼 이렇게 오퍼를 받고 회사를 협박을 했는데, 결론만 얘기하자면 이렇게 협박을 하니 카운터오퍼가 나오기는 한다. 오퍼를 받으면서 느낀 게 Tech HR들이 있는 회사들은 확실히 오퍼를 받고 나서 애매하다는 티를 내면 엄청 열심히 협상을 시도한다. 우리 회사도 이 정도였으면 얼마나 좋았을까. 내가 너무 부자여서 사이닝을 다 뱉고 이직을 할 수 있었으면 좋았을텐데. 솔직히 나를 예쁘게 봐 주시고 오퍼를 주신 회사들에는 너무 죄송하지만 나는 오퍼들이 너무 필요했었고 이게 지원 동기의 거의 50%쯤 된다. 나머지 50%는 대체로 진짜 정 안될 때 뒤도 안 돌아보고 갈 수 있을 정도로 괜찮은 회사들이라 지원하기는 했지만 솔직히 지금 다니느 회사에 협박하려고 인터뷰를 봤다는 사실은 아직도 조금 죄송하긴 하다.</p>\n<p>그래서 오퍼를 받고 회사를 협박을 하고 있는데 12월 중순에 팀의 리드급 되시는 분이 조인을 해 주셨다. 그 리드 분은 오신 지 이틀만에 팀에서 누가 나가려고 생각하고 있다고 얘기를 들은 셈이다. 어이없게 해 드려 죄송하긴 하지만 당시의 저는 연봉을 올리기 위해 조금 필사적이었습니다.</p>\n<h3 id=\"일이-아닌-것\" style=\"position:relative;\"><a href=\"#%EC%9D%BC%EC%9D%B4-%EC%95%84%EB%8B%8C-%EA%B2%83\" aria-label=\"일이 아닌 것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>일이 아닌 것</h3>\n<p>일이 아닌 것은 대충 몇 가지로 요약할 수 있을 것 같다.</p>\n<h4 id=\"good\" style=\"position:relative;\"><a href=\"#good\" aria-label=\"good permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Good</h4>\n<ul>\n<li>큰 맘 먹고 충치치료를 진행했다. 치아가 녹았을 정도로 손상이 심했고 치료해야 할 치아가 한두개가 아니었다. 금액적으로도 큰 맘 먹었고 솔직히 많이 무서웠는데 어떻게 진행을 했다.. 거의 600만원이 깨졌고 치아를 12개를 고쳤고 그 중 5개는 치아를 뿌리 정도만 남기고 다 갈았기 때문에 크라운을 씌웠다. 12개 중 11개를 한 번에 치료했다. (하루에 다 갈았다는 뜻이다.) 수면치료로 진행했는데 중간에 몇 번 깨기도 해서 무서웠으나 정신 없는 사이에 치아가 다 갈려 있어서 만족도는 최상이다. 20만원의 행복..</li>\n<li>애인이랑 사귄지 1년이 넘었다. 나는 내가 여기까지 올 수 있을 것이라고는 생각도 못 했는데.. ㅠㅠ</li>\n<li>마치 오락실에서 게임을 하는 것 처럼 게임을 할 수 있도록 홈케이드를 하나 세팅했다. 너무 해보고 싶었던 일인데 이번에 해 보게 되어서 감격했다.</li>\n<li>가볍게 시작한 주식이 그래도 잘 흥했다. 수익률이 대충 1xx% 되는데 시드를 되게 적게 가져가서 큰 이득은 못 봤다. 그래도 치과 치료에 조금 도움이 되었다.</li>\n</ul>\n<h4 id=\"bad\" style=\"position:relative;\"><a href=\"#bad\" aria-label=\"bad permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bad</h4>\n<ul>\n<li>모바일 게임에 현질을 너무 많이 했다.. (쿠키런 킹덤) 거의 치과만큼 써 버렸는데 가장 후회(?)하는 일 중 하나다. 쿠킹덤을 기점으로 게임 현질에 대한 가치관이 크게 바뀐 것 같다.</li>\n</ul>\n<p>솔직히 쿠킹덤 얘기 하나 쓰려고 Bad라는 항목까지 만들었는데, 항목을 만들 만큼 좀 많이 잘못했다고 생각하는 일이다. 이 돈이 투자 시드였으면 지금 얼마야.. ㅠㅠ</p>\n<h3 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h3>\n<p>되게 길게 쓰긴 했는데, 여튼 올 한해는 그렇게 뭔가 성장을 했다던가 이러지는 않았던 거 같다. 진짜 열심히 살았냐고 물어도 정말 열심히 살았다고는 말 못 할 것 같고.. 내년에는 성장이 있는 한 해가 되었으면 좋겠다.</p>","excerpt":"TOC 2021년에 뭘 했는지 일 (나름 재밌는? 달만 목차로 남깁니다) 1월: 옆 자리 사람의 정직 2월: 대규모 장애 3월: 정직 당한 사람의 말로 4월: 시니어?와 주석에 대한 리뷰 5월: CTO님의 퇴사 9월: 요구사항 지옥 12월: 퇴사 협박 일이 아닌 것 회고 1. 2021년에 뭐했나 일과 일이 아닌 것으로 나눌 수 있을 것 같다. 일 제품을 찍어내는데 집중했고 내가 경험이 없다는 것을 너무 잘 납득하게 된 한 해였다. 솔직히 나는 내가 경험했던 범위 내에서는 잘 했다고 생각한다. 내 머릿속에 들어 있던 내용들에 한해서는 제품에 잘 적용했다고 생각한다. HA 구성도 아닌 서버가 배포되는데 10~15분씩이나 걸렸어야 했던 것을 2분 정도로 단축시켰고(그 중 3~40초는 순수하게 빌드 되는 시간) 무엇보다 말도 안되는 수준의 코드들을 엄청 많이 제거했다. 주문이 300건만 쌓여도 죽어나던 시기를 생각하면 솔직히 지금도 어이없다. 하지만 부족한 점도 너무 잘 느낄 수 있었다.…","frontmatter":{"date":"December 31, 2021","title":"2021년 회고","categories":"Chat","author":"fleta","emoji":"🔮"},"fields":{"slug":"/chat/retrospective-2021/"}},"next":{"id":"ca53bcfb-7102-5591-afa2-1eb10b7f7154","html":"<h1 id=\"서론\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%A1%A0\" aria-label=\"서론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서론</h1>\n<p>폭발적으로 성장하는 서비스들은 그 성장세를 효과적으로 처리하기 위한 고민을 한다. 감사하게도 내가 있는 회사의 서비스도 굉장히 폭발적으로 성장하였다. 2020년 11월에 입사해서 어느덧 1년이 다 되어가는데, 그 사이에 매출이 거의 2.5배 정도로 뛰었다. 작년 11월에 입사했을 때도 거의 매일같이 순 거래액을 갱신할 정도로 크게 성장했는데, 그 이후에도 멈추지 않고 현재까지 달려왔다. ‘이 목표액 달성하면 전 직원 하와이 보내드리겠습니다’ 하고 CEO가 얘기한 조금은 허황되어 보였던 금액도 지금이라면 진짜 달성할 것 같다고 생각할 정도로 많이 성장했다. 우리 메인 페이지의 트래픽도 많이 늘었듯이 내가 담당하는 백오피스 시스템의 시스템 메트릭들도 껑충껑충 뛰고 있다. 물론 메트릭이 뛰는 이유는 대체로 과거에 이 시스템이 개같이 만들어졌고 그것을 적절한 시기에 청산하지 못한 잘못이 제일 크지만, 이 서비스를 갈아엎고 새 서비스를 만드는게 기존 서비스를 수정하는 것과 비슷한 공수가 들 것이라 생각하면서 자연스럽게 대규모 시스템들은 어떻게 설계가 되는지 관심을 갖게 되었다. 그래서 최근에 몇 가지 도서와 여타의 자료들을 찾아보게 되었고, 그 과정에서의 나의 부족한 생각들을 기록으로 남기고자 글을 적는다.</p>\n<p>기본적이고 추상적인 개념들부터 그 개념들에 대한 나름 상세한 고찰(?)을 반복하는 식으로 글을 적게 될 것 같다. 오늘처럼 며칠 어치 작게 공부한 내용들을 모으면 이렇게 하나의 글을 적을 수 있게 된다. 그런 식으로 설계에 대해서만 한 달 정도에 거쳐 5개 내외의 글을 적게 될 것 같다. 오늘 적을 글은 시스템 설계시 고려되는 점들에 대해 적어볼 생각이다. 사진에 들어있는 그림들 중에서는 다른 아이콘들에 비해 귀여운 그림이 있는데 이 그림들은 전부 <a href=\"http://www.irasutoya.com/\">이라스토야(irasutoya)</a>에서 배포하는 그림들이다.</p>\n<h1 id=\"설계와-확장성\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EA%B3%84%EC%99%80-%ED%99%95%EC%9E%A5%EC%84%B1\" aria-label=\"설계와 확장성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설계와 확장성</h1>\n<p>사실 확장성에 대해 얘기하려면 <em>어디에서부터</em> 확장되는지 먼저 얘기해야 한다. 그래서 가장 단순한 구조는 어떻냐는 얘기를 한다면, 물론 어떤 서비스를 만드느냐에 따라 설계에 대한 얘기는 모두 다르지만, 어떤 서비스든지 사용자에게 어떤 기능을 ‘보여줘야’ 한다는 공통점이 있다. 그래서 필수적으로 웹(api) 서버와 그것을 보여주는 어떤 존재들(e.g. 웹페이지, 모바일 어플리케이션 등)이 필요하다. 이렇게 필수적인 존재들만 있다고 했을 때의 구조는 아래와 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC8ElEQVQ4y3WUS28aZxSG/bMiVYrUX1BVXXTbRbvoqqq6aJRVumnsVK1raqW2k7jCqh03Na0dnFiUYCiOS7gN2CDMzRiGmsDAwMDcuNh5qhmLyHXM4h3NnJnv+c55z5lvSlENqg2ZWDpHvaVwkCnQUjTaPR25a0mjo5k0eyZdY4AxPKer9+249c1VTeln4H++iWvuFq61NZZufUqv00LumbQUFbU/IpE44I9H8xyXykSEA07EUxTNtKFXwVOqOSQiHBLd9RAOBUh4V2i2ZNqqgayoKMaIYkbgxPsdP3x/jxs33uPhspPBOTQ7vXeBw9GAb1wvufNwl4CwyvTaMqJYp6Ma9gLVOCMQ9+LzObg/P8vNm++zseHCHL25HqiaA7aDIT7+2kE0ESTo/gW53bX9svy1/MqkYuz+9RzPs03uzztICBG6+oSSrUunp1P6t0G2WOH0dYOaJFMoVSiWRcRag9NGi/1wjJ4xQB+c2dlPbMp4F60/pFpr4PX/Tb5UJhxLEIrGOczk2N7xcFKt2Y24XObEDK2g7Zc5JF+q4Np0U291kNpd/ny6zVH+GK0/srt+FXZZ/wNe1uMnG2+B67+7bNAYZmn83LLuL8l69w7Q8ue1JCMkD0llspQqVTs29s4q28pWH56j6gamrmMaF1LGGY6h1q5a/4xQOMq9mRmWFpdYfrRM6ihHMp3BF9izlUwfsfXUzWG5wU9xhdvBJg8SbWpt7TrgiGg8gWPOgdPpZMW5QvFEtBuVP75Q9riM3/eCJ8kaH2xJfLhV56OtOmGxNxn44+ysnd3643X8wX2C+yEblskVSWULiJUKnqLCF74mX/okvvI3iVYnACMxgZnpaRZ+XmD111W8uwGC+6/sMdr75xWpowLFQh53ts0nOxKfv5D5zCMRmQQMR+Pc/fYuiwuL7Ox47EYYozd2UzqqaR8Yen+IKGv8lpaZ26vgznVoKFc8HM9SQ+4QFZIIB+m3p8p1Y9NVdXRNQ5IkDP3ij/sPdYl5+n3HqL4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"basic-architecture\"\n        title=\"basic-architecture\"\n        src=\"/static/0df748a1ff871d5c98dd83d8189e97de/37523/basic_architecture.png\"\n        srcset=\"/static/0df748a1ff871d5c98dd83d8189e97de/e9ff0/basic_architecture.png 180w,\n/static/0df748a1ff871d5c98dd83d8189e97de/f21e7/basic_architecture.png 360w,\n/static/0df748a1ff871d5c98dd83d8189e97de/37523/basic_architecture.png 720w,\n/static/0df748a1ff871d5c98dd83d8189e97de/302a4/basic_architecture.png 1080w,\n/static/0df748a1ff871d5c98dd83d8189e97de/07a9c/basic_architecture.png 1440w,\n/static/0df748a1ff871d5c98dd83d8189e97de/668c6/basic_architecture.png 1692w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그림의 구조는 서버 한 대가 서비스의 모든 기능을 제공하는 형태이다. (DNS같은 서비스는 생략) 사용자가 웹/모바일 어플리케이션 등의 어떤 인터페이스를 통해 서버에 요청을 하면 한 대의 서버가 모든 기능을 제공하는 형태이다. 가장 빠르게 만들 수 있고, 요즘 cpu나 클라우드 서비스의 가격을 생각하면 어지간한 트래픽은 저렴한 서버 한 대로도 수행할 수 있다.</p>\n<p>위와 같은 구조로 초기 서비스를 만들고 운영하다 보니 사용자가 점점 많아지면 언젠가 서버 한 대로는 트래픽을 안정적으로 수행하기 힘들 때가 온다. 이유는 여러가지가 될 수 있다. 단순하게 예상 가능한 이유 두 가지는 대략적으로 아래와 같다.</p>\n<ol>\n<li>순수하게 사용자가 늘어서 트래픽이 증가했고 서버의 자원이 부족해서 늘어난 트래픽을 처리하지 못 함</li>\n<li>서비스 규모가 커지면서 배포가 잦아졌는데 장비 외적인 이슈(인력부족 등)로 서비스의 안정성이 떨어지는 경우</li>\n</ol>\n<p>만약 1번 케이스라면, 트래픽을 처리하기 위해 <strong><em>scale up</em></strong> 또는 <strong><em>scale out</em></strong> 을 고민할 것이다. <strong><em>Scale up</em></strong> 은 장비의 성능을 올려서 문제를 해결하는 방식이다. Scale up에는 장비의 성능이라는 분명한 한계가 존재하긴 하지만 아주 작은 서비스에서 시작했다면 보통 비용상의 문제로 scale up을 할 여지는 분명히 남아있을 것이고 그럼 하드웨어 성능을 개선하는 것으로 당면한 문제를 빠르게 해결할 수 있다. 반대로 <strong><em>Scale out</em></strong> 은 하나의 장비에서 하던 일을 여러 장비들이 처리할 수 있도록 확장하는 방식이다. 쉽게는 비슷한 수준의 서버를 몇 개 더 띄우고 그 서버들에 서비스를 그대로 배포해서 parellel하게 돌아가는 서비스들을 load balancer로 묶는 방식이다. 각각의 방식은 분명한 장단점이 존재한다.\r\nScale up은 단순히 서버의 사양만 올리는 것이라서 인스턴스의 성능을 바꾸는 것을 제외하면 할 일이 없다. 네트워크 설정도 그대로고 서비스 배포도 똑같이 하면 되고 소프트웨어를 변경할 필요조차 없다. 소프트웨어의 측면에서는 기존과 완전히 똑같기 때문에 데이터의 정합성 이슈에서 굉장히 자유롭다. 그런데 언제까지나 서버의 성능을 올리는 것으로 문제를 해결할 수는 없다. Scale up은 성능이 올라갈수록 가성비가 떨어진다. 그리고 명확한 한계가 존재한다. 언젠가는 너무 비싼 장비를 사야 하거나, 그마저도 못하기 때문이다. 보통 클라우드 환경에서 운영하는 사람들은 인스턴스를 빠르게 띄우고 내릴 수 있는 환경의 특성 때문에 단일 서버로 돌아가는 서비스를 운영하는 케이스가 잘 없다.</p>\n<p>첫 회사는 이미 IDC에 입주해 있었고 AWS를 너무나 싫어했던 나머지 실물서버를 지속적으로 관리하는 방식으로 운영해 왔었다. 이런 환경이라면 스케일업을 할 때는 또 다른 이슈가 생기는데, 바로 공간과 전력 그리고 냉각의 문제이다. 사실 IDC에 입주했다는 시점에서 전력과 냉각 문제는 없을 것 같은데(IDC에서 냉각 이슈가 있으면 그냥 같은 공간을 쓰는 장비들이 전부 다운되는 것 아닌지…) <strong>공간</strong>이 제일 문제이다. 만약 서버의 디스크로 HDD를 사용한다고 가정해보자. (물론 아직까지도 HDD가 달린 서버를 관리하러 IDC에 들어가는 회사라면 즉시 탈주해야 한다) 용량이 부족해서 scale up을 하러 IDC를 방문해서 랙을 봤는데 랙에 공간이 없거나 보드에 SATA포트가 부족하면 어떻게 할 것인가? SATA포트가 없다면 정말 어거지로 외장하드라도 붙일 수 있는데 공간이 부족하면 답이 없다. HDD를 공간 대비 용량이 높은 SSD로 교체하거나 서버를 늘려야 한다.  다른 부속들도 마찬가지다. 이런 공간적인 한계에 미치면 무조건 장비를 바꾸게 된다. (왜 이렇게 길게 적었나 생각해보니 전 회사가 정말 쓰레기같은 서버를 쓰고 있어서 항상 욕을 했었고 이게 결국 트래픽을 못 버티니 새 장비를 구매했는데 어떻게든 싸게 사려고 중고를 샀었고 그 중고 서버의 성능이 정말 처참해서 이럴거면 AWS라도 쓰라고 했던 기억이 있다.)</p>\n<p>Scale out은 서버의 갯수를 늘리는 것을 지칭하는 말이다. 특히 클라우드 환경에서는 새로운 인스턴스를 띄우고 내리는 것이 매우 빠르기 떄문에 서버의 성능 확장을 수평적으로 하는 것이 서비스의 운영에 굉장히 유리한 것으로 보인다. 또한 정말 고성능의 서버를 하나 운영하는 것 보다 저성능의 서버를 여러대 운영하는 것이 가성비가 더 높을수도 있다. 자체적으로 서버실을 가지고 있거나 IDC에 입주했다면 공간적인 문제 때문에 이런 선택을 하기 어려울 수 있지만 클라우드는 얘기가 다르다. 그리고 성능적인 한계가 없다. 새로운 서버를 올릴 여건만 충분하다면 성능적인 측면은 걱정할 일이 없다. 이러한 구조는 굉장히 유연하고 빠르다. 한번에 단일 서버로 트래픽이 몰리는 경우 필연적으로 병목현상이 생길 수 밖에 없는데, 서버를 유연하게 띄울 수만 있다면(autoscaling) 이러한 걱정을 할 일이 없다. 그렇지만 강한 힘에는 강한 책임이 따르는데, 서비스를 수평적으로 운영하기 위해서는 신경써야 할 이슈들이 많다. 여러대의 서버에서 작업을 나누기 때문에 데이터의 정합성 이슈가 있다. 만약 서버에 저장되는 데이터가 있다면 그 데이터를 어떤식으로 공유할 것인지에 대한 기술적인 해결이 필요하다. (e.g. session)</p>\n<p>이제 기존 설계의 문제점을 다시 생각해보자. 사진의 설계에서는 서버도 하나고 DB도 하나이다. 서버 하나에 트래픽이 몰리면 서비스가 무조건 지연되고, 그 서버가 죽으면 모든 유저가 서비스를 사용할 수 없는 대형 장애가 발생한다. DB도 마찬가지다. DB의 리소스가 부족하면 서버가 살아있고 멀쩡한 상태여도 병목이 서비스에 영향을 끼치게 되며, 혹여나 DB 서버에 문제가 생겨서 데이터가 날아간다면 미리 백업을 해두지 않는 이상 복구할 방법이 존재하지 않는다. 현재의 설계에서는 서버와 DB 모두가 <a href=\"https://ko.wikipedia.org/wiki/%EB%8B%A8%EC%9D%BC_%EC%9E%A5%EC%95%A0%EC%A0%90\">SPOF(single point of failure)</a>이다. 그래서 SPOF를 만들지 않기 위해서는 하나의 서버가 다운되기까지해도 전체 서비스에 영향을 끼치지 않는 환경을 만들어야 하기 때문에 어차피 서버의 갯수를 늘려야만 한다. 서버는 그냥 서버를 늘려서 서비스를 똑같이 띄우면 되는데 DB는 어떻게 처리할까? 물론 정말 고성능 DB를 써서 모든 데이터에 대한 관리를 하나의 DB에서 처리해도 된다. 하지만 보통 DB의 데이터는 매우 중요하기 때문에 replication하고, 이를 master-slave라 부르며 관리한다. 원본DB에서는 주로 CUD 요청을 날리고 read는 slave에 요청 하도록 분리할 수 있다. 여기까지 하면 SPOF는 없어진다. 서버도 병렬적으로 여러개이기 때문에 한 서버가 죽더라도 서비스 전체에 영향을 끼치지는 않을 것이며, DB도 모든 DB가 동시에 죽는게 아니라면 master가 죽더라도 slave들 중 하나를 master로 선정해서 다시 운영될 것이고 덕분에 DB장애도 전체 서비스에 영향을 끼치지는 않을 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 131.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC+klEQVRIx+2VT28bRRjG8xn4AHyVSnwFDpwoByToBYlDubUHQEUoCpEIIn9kCStKoAWVtihYCZQmKrgxSVonjRP/Sxo7sddrr9f7b2Z3s3HDD+0msdeENge4wWH07sy87zPPvM+j2SHDcfk3x9B/FLBjSzqmiGJvHiaE0ZbopzG+/2JAW2J5Ac7R8UByGNuWwBQejvQwhXshWAQYMtmv1iitZNEMp18kPIKjAFXvUG6YKLrdY/5yht0/uHv9Q+68+go7N5Mc2g10x0MzXBKJzxi9Nczrs1Xev1empllY4gJAOzimuLbC/StvMHL5bQqVOtIPqDZ0RkavcSM5yaUvs7w2vs5e08SW3ssB25ZL4DvsZOZ498YUqeUcQbeLLY+Zmh9mJvMpmW2Fjb3WSVFMnBeoLNEtiSl8lrNblCs1tgol1nN5Hm/mWcluIF0f6fkDSl9oG0v61NUW6cwKO3v77FZrPEwvUzloRAKFindi9hmwWOyQobOJbgnc4DlLvz4iVyiTK5Si73At3A/tcwIQFspzFjtZjwFGvjMdhH9ExxLY7mHvoJqq0dA6tE2BdQoWmt0+p7g8AYwWbUlDt0jNLzAzO8ujzCr7DY1cvkT691XW1jd58GCR1FqR9xYN3kw1WdqzkFKiWSKqH+ihKQ9R6ypffD7GxNgY927fQdE6rD7ZYKdyQPFZlWI+zw9PFd5ZMnkr1eJ2SUL3CNsLeobvMxQeTVXj7kcfk7h6lfmf7rO7X2fxYZqnWwWym9scKA0yy9tcT65yZfxHPvh6jk8mJ5n49nsMx+9f2TgdatjHhZ/JT8+we6BEB4WihIKELhDBc1pKi+3JmyS+m2EqOcrEN0lGvhrHtJ3Y8xWylD6m2sJWmhh1Fe1ZBcM9jESJbmEJdOljFct4SpNC+hembk0zPJ1g7reFfg8HnqqwD8KLwA3pn/faWY70aTtuZK/H65u0DbuX12d4Go2/M+5fcs7Ahd/t+bQTV/nCEWcXOyhsx1lLBhn+/9f7J4B/AuIeiJtlJrqeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"basic-architecture-error\"\n        title=\"basic-architecture-error\"\n        src=\"/static/6045ff6c7f834ef63ae7267979f00e8c/37523/basic_architecture_error.png\"\n        srcset=\"/static/6045ff6c7f834ef63ae7267979f00e8c/e9ff0/basic_architecture_error.png 180w,\n/static/6045ff6c7f834ef63ae7267979f00e8c/f21e7/basic_architecture_error.png 360w,\n/static/6045ff6c7f834ef63ae7267979f00e8c/37523/basic_architecture_error.png 720w,\n/static/6045ff6c7f834ef63ae7267979f00e8c/302a4/basic_architecture_error.png 1080w,\n/static/6045ff6c7f834ef63ae7267979f00e8c/9239a/basic_architecture_error.png 1246w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 140.55555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEI0lEQVRIx6WV7U9TZxjG+dP2fcuMX8yWLNkSs2zZMjWLMc7NRL+YLHMkvmDEIf3gNkQjLyIWAVtaUMBCaYsFpNjR0rdzek5PT89LW0B/2/M0xYLMYfbh7t3n7ep1Pff13G3TTRutbO1EybTRTYdSxaG5psu5RjTnRd4v2sRHpfaKSm0be/M1ulxoHDYsF6f+ateBd4FJQMHmYX8vQb+PwT9voek6esWVYDm1xNOns5K1GB8IUDEsfH23CA7fw/9HO4amSsCyXWM9lWL+3kWuXrnM8RMnSWcLlO3quyWnNIMTnaP4Zga4PtBLakPBsBxMu87yX8sEJq7y05lTHDp0mEz+AICm7XCu8y53vF6iM140rURJSLZrZDIpJsZHGB8dob+/D1XTKVnuuwGNimDjksqqxFcSpLIF5iOLrCSSLCeShGPPsevbOPXtgxalUVHTqTG3EOPJbIj1TJ5ofIVxfxBFN+TGolE5uG2aFlH0MveHh9HKDhNTUywsxiUz6c/KAX3YZCgOWbU6g0PTnD//Ox7PI1mcvab+r9hh2JBd5Zuvr3D0i3Y+OXKBjbxO2Xb/H2BgcpFj33XQPzC1S+J7AbY+tZyqMbfwnLX1tBy/D9guhiKLe7RrW0SfL8lKt97fgRm2bhbWsKqbTD+bZ9wfYD2T28WyNTTTplhu5NaraWvtIo3usk3f4AMp2d16LdfEfGuIOct2qLsOrrO7C+0wFBtTmTxLK6tMz4aIxZd5kUiSUzSyikYmr5IpFEnnFDTDJJK1uB03eJw0Jcsdhk0PirvzB4Jc67iGx+PhZlcXNzpvEI4syqfoD04xOf2MkTEfQ8Nezj0p8UFvjk8fKMTzFhXLkcBtb0y9xURgks7r1+m+2Y2n20PXb12EIzH5DFeTKV6mMiSS66y8THFhWuekX+V7n8pCtiKvYBegaABj4z7aL/4qWV672sHlS5eYDYV5NO4jFI4SjsWZi8RIJFNcmTf4clTjh6DOqmJhWnskV6qbzIbm6em5TU9PL7137jL8cIR8UZeFMp06FXdThlWtk8yq+CIJomsbGC3mf6vKIq+tb8gfSecKsoWJptE0v2pYqGWbosi6gVoypX1E7DBs9ZEAEnYR0h54H7H0Yg1fYJLY0gsJWnddNqsOm1WXrVpVZjHeqrqyMG8BNr9v5BUJNjMXloxFle97R7mzWuWXmSKeaIn2Zzrd0RId8zqXQjrLBeuN5L1/lYZVla9GyA0txIhEY0TTGp97VT7uL/BRX4HDgwUODTTyh30F+paNtwH3yhf3arp1NjI5YhmDY4+LfDumcmRI4bivyGfDCl+NqhwdUfcH3Cu9AWxjOTXSus3PMxqnA0VOT6ic8uU5G1T5MahxJlBkOm3uD/hvwEal0QwU0yVTUAnHV2VXUk1HVr78T1H+BkVb99N7xCafAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"add-lb-and-replications\"\n        title=\"add-lb-and-replications\"\n        src=\"/static/4d5d787c3ee567ca1f37f7ef93aa9901/37523/add_lb_and_replications.png\"\n        srcset=\"/static/4d5d787c3ee567ca1f37f7ef93aa9901/e9ff0/add_lb_and_replications.png 180w,\n/static/4d5d787c3ee567ca1f37f7ef93aa9901/f21e7/add_lb_and_replications.png 360w,\n/static/4d5d787c3ee567ca1f37f7ef93aa9901/37523/add_lb_and_replications.png 720w,\n/static/4d5d787c3ee567ca1f37f7ef93aa9901/302a4/add_lb_and_replications.png 1080w,\n/static/4d5d787c3ee567ca1f37f7ef93aa9901/077b7/add_lb_and_replications.png 1166w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그림만 봐도 뭔가가 늘어났다. 몇 년 안되지만 지금까지 일해온 바로는 이렇게 뭔가가 늘어날 수록 더 민감하게 관리해야 한다. (단순하면 민감하지 않아도 된다는 것은 아니다.) 최초의 설계와 비교했을 때 지금 설계를 운영하기 위해서는 일단 서비스(소프트웨어)가 서로에게 영향을 줄 필요가 없도록 잘 구현되어 있어야 한다. 대충 만들어도 된다고 해서 정말 너무 대충 만들어서 웹 서버와 정기적으로 도는 job들이 다 같은 프로세스로 뜨는 것들이 있다. 이런 서비스는 병렬적으로 돌기 어렵다. 두 인스턴스가 같은 시간에 배포된다면 job들이 같은 시간에 동시에 n번 돌 것이기 때문이다. 이런 케이스라면 일단 웹 서버와 job을 먼저 분리해 내야 한다. 그런데 이제 DB에 무슨 작업을 하는 job들이 돌고 있다면 같은 소스 내에 정의된 DAO들에 의존하고 있을 것이다. ORM으로 DB를 물려서 DB의 데이터를 entity class로 가져오고 어떤 연산을 해서 그 entity들의 값을 바꾼 뒤 다시 update 치는 소스코드들은 언제나 본다. 그렇다면 job을 분리해 내기 위해서는 새 프로젝트에 ORM 세팅과 Entity 정의들을 똑같이 새로 만들어야 한다. 이런식으로 서비스가 분리될 때 마다 매번 entity들을 똑같이 적고 있을 수 없으니 이제 데이터에 접근할 용도의 서비스를 분리하기 시작할 것이다. 이런식으로 나가면 할 일이 정말 많아지는데, 이렇게 <a href=\"https://www.redhat.com/ko/topics/microservices\">어플리케이션을 상호 독립적인 최소 구성 요소로 분할하는</a> 설계를 보고 우리는 <strong>마이크로서비스</strong> 라고 부른다.</p>\n<p>물론 자세히 따지면 load balancing이라는게 무엇인지 이해할 필요도 존재한다. 하지만 어지간한 규모에서는 load balancing에 대해서는 자세히 생각할 필요가 없다. 클라우드 환경이라면 AWS ELB, 아니면 보통 nginx 같은 L7 switch들을 사용하는데, 이런 load balancer들은 application layer에서 load balancing을 수행하기 때문에 패킷을 가지고 트래픽을 분산할 수 있다. 가장 대표적인 예시로, 서비스를 운영하다 보면 그냥 무작위로 도메인이나 아이피를 돌면서 포트가 열려있는지 확인하고 열려있으면 때려보는 중국인 친구들을 방어해야 할 일이 종종 있는데 nginx 하나 붙여놓으면 든든하다. 그래서 load balancer에 대해서는 나도 아직 잘은 모르고, 이 글에서는 나올 일 없을 것이다.</p>\n<p>이번 글에서는 보통 학부생들이 수업 들으면서 띄워보는 웹 서버의 구조를 한 번 그려봤고 그것을 단순하게는 어떻게 개선할 수 있을지 살펴보았다. 다음 글에서는 아마 네트워크나 캐시, CDN 등의 얘기를 할 것 같다.</p>","frontmatter":{"date":"October 11, 2021","title":"주니어의 눈에 비치는 설계 1","categories":"Tech","author":"fleta","emoji":"🔮"},"fields":{"slug":"/chat/tech/architecture-components/"}},"prev":{"id":"5978afc8-2e2b-59c4-a00d-4b09ee85db26","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>올해 여름에 미호요에서 세빛섬을 빌려 이벤트를 진행했었다. 미호요는 자기네 세계관을 호요버스(mihoyo-universe: hoyoverse)라고 부르는데, 이번 행사도 호요버스 명의로 진행되었다. 행사 이름은 <a href=\"https://act.hoyoverse.com/puzzle/hk4e/pz_gQ3kCbyIfy/index.html?game_biz=hk4e_global\">원신 2022 여름축제</a>이다. 2022년 7월 28일부터 8월 3일까지 총 일주일간 진행되었다. 후원사가 있긴 했어도 일주일 동안이나 세빛섬을 빌릴 수 있을 정도의 운영 능력은 정말 대단한 것 같다고 생각했다. 이번 글에서는 2022 원신 여름축제의 현장 분위기에 대해 적고자 한다. (추후 사진 업로드 예정)</p>\n<h2 id=\"timeline\" style=\"position:relative;\"><a href=\"#timeline\" aria-label=\"timeline permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Timeline</h2>\n<h3 id=\"오전-6시-도착---반포한강공원주차장\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EC%A0%84-6%EC%8B%9C-%EB%8F%84%EC%B0%A9---%EB%B0%98%ED%8F%AC%ED%95%9C%EA%B0%95%EA%B3%B5%EC%9B%90%EC%A3%BC%EC%B0%A8%EC%9E%A5\" aria-label=\"오전 6시 도착   반포한강공원주차장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오전 6시 도착 - 반포한강공원주차장</h3>\n<p>세빛섬은 한강공원 옆에 있는 섬이다. 근처에 사는 사람이 아닌 이상 한강공원을 대중교통으로 가는 것은 의외로 힘든 일이다. 특히 세빛섬 바로 옆에 정차하는 버슨는 한 대 뿐이어서 이번 이벤트처럼 방문자가 많을 예정일 때는 더 힘들 수 밖에 없다. 그래서 주차장 정보를 알아봤고 세빛섬 바로 앞에 반포한강공원주차장이 있다고 하더라. 요금도 시간당 1,200원이어서 먼 길을 대중교통만으로 가는 것 보다는 훨씬 편할 것이라 생각해 차로 이동하기로 했다.</p>\n<p>2일차에 방문했는데 첫 날 방문자가 매우 많았다고 하여 주차장에 자리가 없을 것으로 예상하고 새벽에 출발했다. 오전 6시에 도착했고 자리는 정말 많았다. 도착하고 내렸는데 세빛섬 앞에 천막이 쳐져 있었고 천막 아래에 대기하는 사람이 1n명 정도 있어서 놀랐다. 이 사람들은 대체 뭘 위해 이 시간부터 줄을 서고 있는 것인가.. 열 몇명이면 내가 굿즈를 사는데 크게 문제는 없을 것 같아서 차에서 에어컨을 틀고 기다리기로 했다. 그러나 그 생각이 틀렸다는 점은 상상만 한 채로…</p>\n<h3 id=\"오전-7시---세빛섬-앞-천막\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EC%A0%84-7%EC%8B%9C---%EC%84%B8%EB%B9%9B%EC%84%AC-%EC%95%9E-%EC%B2%9C%EB%A7%89\" aria-label=\"오전 7시   세빛섬 앞 천막 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오전 7시 - 세빛섬 앞 천막</h3>\n<p>6시에 했던 생각은 틀렸다는 점은 6시 반에 허리 펴러 차 문을 열었을 때 알게 되었다. 내 앞에 사람이 6시 반에 이미 3~40명까지 늘어났던 것이다. 평일 오전이었음에도 불구하고 사람이 너무 빨리 모이기 시작하는 것 같아서 나도 아침을 먼저 먹어두기로 했다. 아침을 먹고 7시에 다시 갔을 때 내 앞에 50명 전후로 있어서 나도 줄을 서기로 했다.</p>\n<h3 id=\"오전-9시---수위-상승-천막-밖으로-이동-10시-40분-전후\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EC%A0%84-9%EC%8B%9C---%EC%88%98%EC%9C%84-%EC%83%81%EC%8A%B9-%EC%B2%9C%EB%A7%89-%EB%B0%96%EC%9C%BC%EB%A1%9C-%EC%9D%B4%EB%8F%99-10%EC%8B%9C-40%EB%B6%84-%EC%A0%84%ED%9B%84\" aria-label=\"오전 9시   수위 상승 천막 밖으로 이동 10시 40분 전후 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오전 9시 - 수위 상승, 천막 밖으로 이동 (~10시 40분 전후)</h3>\n<p>사람들은 모두 세빛섬 앞의 휴식용 천막에서 그늘을 즐기며 굿즈 판매를 기다리고 있었다. 오전 9시에 이미 줄이 세 줄이나 생길 정도로 사람이 많았다. (대략 200명 전후) 이 때까지는 천막의 수용 범위 안이어서 다들 느긋하게 쉬고 있었는데, 갑자기 옆에서 물이 차오르기 시작했다. 수위가 점점 올라갔고 천막 범위까지도 물이 오기 시작해서 사람들이 천막 밖으로 피신하기 시작했다. 수위는 천천히 올랐기 때문에 물 자체는 문제가 안 됐는데, 문제는 천막 밖에서 줄을 서야 했던 점이었다. 이 날 햇볕이 너무 강했고 다들 오전부터 이미 몇 시간을 기다리던 상태였다. 주최는 급하게 천막을 옮기기 시작했고 대기자들은 양산을 펴고 절전모드에 들어가기 시작했던 것 같다. 나도 가져갔던 우산을 펴고 길바닥에 앉아서 잤던 것 같다.</p>\n<h3 id=\"10시-40분-전후---천막-위치-변경-완료\" style=\"position:relative;\"><a href=\"#10%EC%8B%9C-40%EB%B6%84-%EC%A0%84%ED%9B%84---%EC%B2%9C%EB%A7%89-%EC%9C%84%EC%B9%98-%EB%B3%80%EA%B2%BD-%EC%99%84%EB%A3%8C\" aria-label=\"10시 40분 전후   천막 위치 변경 완료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10시 40분 전후 - 천막 위치 변경 완료</h3>\n<p>폭염주의보였나 경보였나 했던 날씨에 사람들이 2시간 정도 동안 땡볕 아래에서 가만히 서 있었다. 주최측이 얼음물을 돌리기 시작하긴 했으나 근본적으로는 햇볕 밑에 있는게 문제여서.. 오전에 리타이어 한 사람이 안 나온게 신기할 정도로 힘들었던 것 같다. 어느 정도였냐면 나는 검은색 우산을 들고 갔는데 10시 반쯤부터는 우산의 철심이 뜨거워질 정도였다. 이런 날씨에 1000명이 넘는 사람들이 햇볕 아래에 줄을 서 있었으니..</p>\n<p>주최측도 심각성을 느끼고 여러 조치를 했었다. 우선 천막 위치 옮기는 작업을 장비를 동원해서 진행했다. 덕분에 11시부터는 줄 선 순서대로 천막 아래로는 들어갈 수 있게 되었다. 그리고 근본적인 문제는 번호표 발부(테이블링)였기 때문에 원래 15시부터 시작할 예정이었던 테이블링을 당초 계획과는 상관없이 최대한 빨리 시작할 수 있도록 하겠다고 안내했다.</p>\n<h3 id=\"11시-20분-전후---테이블링-시작\" style=\"position:relative;\"><a href=\"#11%EC%8B%9C-20%EB%B6%84-%EC%A0%84%ED%9B%84---%ED%85%8C%EC%9D%B4%EB%B8%94%EB%A7%81-%EC%8B%9C%EC%9E%91\" aria-label=\"11시 20분 전후   테이블링 시작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11시 20분 전후 - 테이블링 시작</h3>\n<p>주최측이 빠르게 조치한 덕분에 테이블링을 시작할 수 있게 되었다. 나는 11시 37분에 테이블링에 성공했고 순번은 29번이었다. 최대 3명까지 한번에 예약할 수 있었으니 내 앞에서 굿즈를 사는 사람은 최대 84명이라는 얘기여서 목표였던 클레 텀블러 컷에는 무조건 들 것이라 생각했다. 덕분에 안심하고 집에 가서 점심 먹고 샤워한 뒤 3시 경 다시 돌아올 수 있었다.</p>\n<h3 id=\"4시-12분---입장\" style=\"position:relative;\"><a href=\"#4%EC%8B%9C-12%EB%B6%84---%EC%9E%85%EC%9E%A5\" aria-label=\"4시 12분   입장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4시 12분 - 입장</h3>\n<p>입장은 4시부터 시작했을텐데 29번이었던 나에게 12분만에 알람이 왔다. 예상했던 것 이상으로 빠르게 진행이 되었다고 생각한다.</p>\n<p>콜라보레이션 샵에 입장하니 이유를 알 수 있었다. 무슨 컨베이어벨트 마냥 사람은 계속 걸으면서 물건을 담고 계산대까지 가면 계산하는 방식이었다. 사전에 품목을 안내했으니 물건을 오래 볼 필요는 없다는 논리였던 것 같다. (실제로도 그랬던 것 같고)</p>\n<p>나는 정말 쓸모없어 보이는 아크릴 스탠드를 제외하고 구매 가능한 수량만큼 다 구매했다. 17만 얼마쯤 나왔다. 이 쓰레기들의 집합이 17만원이라니.. 리셀 막는게 목적인지 장패드를 제외하고는 한 명이 각 품목을 한 개 밖에 구매할 수 없었다. 웃긴건 마스킹 테이프는 종류가 5종이었고 포토카드와 키링은 3종이었던 것 같은데 그 중 하나씩밖에 살 수 없었다는 점이다. 허허.. 이럴거면 세트라도 팔던가. 주 고객층이 학생이라 예상했는지 모르겠는데, 패키지를 분리하여 가격을 낮추는 전략은 이해하지만 반대의 옵션도 제공하는게 맞지 않나 하는 생각도 한다.</p>\n<h3 id=\"4시-30분---가라앉는-시설물들\" style=\"position:relative;\"><a href=\"#4%EC%8B%9C-30%EB%B6%84---%EA%B0%80%EB%9D%BC%EC%95%89%EB%8A%94-%EC%8B%9C%EC%84%A4%EB%AC%BC%EB%93%A4\" aria-label=\"4시 30분   가라앉는 시설물들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4시 30분 - 가라앉는 시설물들?</h3>\n<p>구매하고 나와서 짐을 차에 놓고 가벼운 마음으로 다시 돌아가려니 섬 입장이 안 된다고 한다. 그래서 트위터나 카페를 통해 열심히 상황을 알아봤더니 엄청난 일이 있었다. 요약하자면 아래와 같다.</p>\n<ul>\n<li>사람들이 들어가는 과정에서 다리 위를 사람으로 다 채웠을 정도로 줄이 길어졌다. 그래서인지 다리가 휘었다고 한다. (사진을 보는데 그냥 봐도 보일 정도)</li>\n<li>세빛섬도 수용 제한 인원을 초과했다는 공지(링크)가 있었다. 이름 그대로 둥둥 떠 있는 인공 섬이라 그런지 한도 무게가 있다는 것 같다.</li>\n<li>다리가 휘는 등 위험해 보이는 상황이 발생하니 결국 주최는 사람들을 섬 밖으로 나가게 하고 섬으로 들어가는 줄을 통제했다.</li>\n</ul>\n<p>조치가 아수라장의 스타트를 끊었던 것 같다. 섬 입장줄이 엄청 길어졌고 저녁까지 사람이 계속 늘었는데 섬 입장에 제한이 생기다 보니 줄이 줄어드는 속도가 너무 느렸다. 대부분 땡볕에서 웨이팅을 했다. 시간이 오래되다 보니 점점 체력이 떨어질 수 밖에 없었는지 오후 시간대에는 실려가는 사람도 몇 명 생겼다고 한다. 나도 한 분 실려가는 거 봤다. 그래서 원래는 미니게임 하려고 했는데 깔끔하게 포기하고 차에 들어가서 시동 걸고 에어컨 바람 쐬면서 몇 시간을 기다리게 된다.</p>\n<h3 id=\"8시-전후---다시-기상\" style=\"position:relative;\"><a href=\"#8%EC%8B%9C-%EC%A0%84%ED%9B%84---%EB%8B%A4%EC%8B%9C-%EA%B8%B0%EC%83%81\" aria-label=\"8시 전후   다시 기상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8시 전후 - 다시 기상</h3>\n<p>자고 일어나니 대충 8시였고 그 때도 여전히 통제가 있었고 줄이 엄청 길었다. 입구와 출구가 분리되었는데 입구에서 출구까지 줄이 이어졌을 정도. 여기서 또 2차로 포기하고 근처에서 라면을 먹었다.</p>\n<h3 id=\"8시-50분-이후---막차\" style=\"position:relative;\"><a href=\"#8%EC%8B%9C-50%EB%B6%84-%EC%9D%B4%ED%9B%84---%EB%A7%89%EC%B0%A8\" aria-label=\"8시 50분 이후   막차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8시 50분 이후 - 막차</h3>\n<p>라면을 먹고 쉬고 돌아오니 8시 50분쯤 되었던 것 같다. 그 때 쯤부터 갑자기 줄이 없어지고 다들 자유롭게 입장하고 있었다. 이 때다 싶어서 들어갔고 그게 9시 n분 정도였다. 원래라면 9시 마감인데 내가 어떻게 카드 교환만 안 되냐고 애원(?)하니 카드를 주셨다. 아직 안 치워진 가챠도 덕분에 돌려볼 수 있었다. 내 다음에 온 사람부터는 카드도 못 받았다. 내가 정말 막차였던 것이다. 감사합니다!</p>\n<p>포카를 받고 나오는데 푸드트럭에서 아직 조리를 하는 것을 발견하고 얼른 가서 메뉴를 주문했다. 내 다음 사람인가 다다음까지인가 주문 받고 푸드트럭도 마감되었다. 음식 수령하고 나가니 2차 창작 부스들도 정리 중이었다. 지나가다 귀여운 스티커가 있어서 딱히 필요는 없지만 세 장 샀다. 세 장 사면서 귀엽다고 말씀드리니 좋아하시는 것 같았다. 이게 동인의 매력이지.</p>\n<h2 id=\"소감-및-정리\" style=\"position:relative;\"><a href=\"#%EC%86%8C%EA%B0%90-%EB%B0%8F-%EC%A0%95%EB%A6%AC\" aria-label=\"소감 및 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>소감 및 정리</h2>\n<p>좋았던 점과 아쉬웠던 점이 분명했던 행사인 것 같다. 풀어 쓰면 보기 어려우니 목록형으로 정리하고자 한다.</p>\n<p>좋았던 점</p>\n<ul>\n<li>이벤트 기획\n<ul>\n<li>세빛섬이 원신에 등장하는 지형과 닮았다는 점으로 스토리를 풀어나간 점</li>\n<li>코스플레이어들에게는 아마 최고의 컨셉이었지 않을까 하는 생각도 든다.</li>\n</ul>\n</li>\n<li>다양한 즐길거리:\n<ul>\n<li>원신 플레이 여부와 상관없이 즐길 수 있는 컨텐츠들이 많았다.</li>\n<li>자기네들 게임의 포지션이나 강점이 무엇인지 정확하게 이해하는 건 확실하다.</li>\n</ul>\n</li>\n</ul>\n<p>아쉬웠던 점</p>\n<ul>\n<li>학습능력\n<ul>\n<li>미호요는 한국에서 처음 이벤트를 개최하는 것이 아니다. 《붕괴 3rd》로 G-Star에 참여한 것이 2017년부터이니 벌써 5년째다.</li>\n<li>오프라인 이벤트에 항상 사람이 많았고 특히 굿즈에 대한 선호가 높았는데 굿즈 판매를 이렇게 운영한다고? 솔직히 믿기지 않을 정도의 학습능력이다.</li>\n</ul>\n</li>\n</ul>\n<p>아쉬웠던 점을 강하게 얘기하긴 했으나, 솔직히 얘기하면 이런 행사는 수익을 목적으로 하는 행사가 아님을 알고 있다. 물론 홍보가 되면 그만큼 이익이 있겠으나 이미 알 사람은 다 알고 있는 게임이 홍보가 그렇게 급했겠는가. 어찌되었든 게이머들이 놀 수 있는 오프라인 행사를 열어준 점에 감사한다. (나는 원신을 안 하지만 ㅎ)</p>","frontmatter":{"date":"July 30, 2022","title":"원신 2022년 여름 이벤트 후기","categories":"Chat Subculture","author":"fleta","emoji":"✨"},"fields":{"slug":"/chat/subculture/genshin-impact-event-2022-summer/"}},"site":{"siteMetadata":{"siteUrl":"https://fleta.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/chat/retrospective-2021/","nextSlug":"/chat/tech/architecture-components/","prevSlug":"/chat/subculture/genshin-impact-event-2022-summer/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}